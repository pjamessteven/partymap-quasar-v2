import{_ as M,J as s,K as r,L as a,$ as c,V as f,X as o,a0 as B,N as d,aL as j,al as L,as as w,ax as N,am as P,ao as R,an as T,aD as U,I as g,M as p,Z as h,O as S,R as F,U as k,a4 as x,Q as E,T as y,a7 as Q,aM as V,bp as Z,bq as H,ay as J,ae as C,aq as z,Y as K,a5 as W,a6 as X}from"./index.458653eb.js";import{E as Y}from"./EventDateCard.08077f7e.js";const G={name:"ArtistUrl",data(){return{}},props:{url:{default:null},iconsOnly:{type:Boolean,default:!1}}},$={class:"flex row items-baseline"},ee=["href"],te={key:14,class:"url-type q-ml-xs"};function se(i,e,t,I,l,n){return s(),r("div",$,[a("a",{href:t.url.url,target:"_blank",class:"no-wrap flex row items-baseline",onClick:e[0]||(e[0]=B(()=>{},["stop"]))},[t.url.type==="soundcloud"?(s(),c(d,{key:0,name:"lab la-soundcloud"})):t.url.type==="youtube"?(s(),c(d,{key:1,name:"lab la-youtube"})):t.url.type==="bandcamp"?(s(),c(d,{key:2,name:"lab la-bandcamp"})):t.url.type==="last.fm"?(s(),c(d,{key:3,name:"lab la-lastfm"})):t.url.type==="wikipedia"?(s(),c(d,{key:4,name:"lab la-wikipedia-w"})):t.url.type==="spotify"?(s(),c(d,{key:5,name:"lab la-spotify"})):t.url.type==="apple"?(s(),c(d,{key:6,name:"lab la-apple"})):t.url.type==="facebook"?(s(),c(d,{key:7,name:"lab la-facebook-square"})):t.url.type==="instagram"?(s(),c(d,{key:8,name:"lab la-instagram"})):t.url.type==="twitter"?(s(),c(d,{key:9,name:"lab la-twitter"})):t.url.type==="amazon"?(s(),c(d,{key:10,name:"lab la-amazon"})):t.url.type==="streaming"?(s(),c(d,{key:11,name:"las la-play"})):t.url.type==="free streaming"?(s(),c(d,{key:12,name:"las la-play"})):(s(),c(d,{key:13,name:"las la-external-link-alt"})),t.iconsOnly?o("",!0):(s(),r("span",te,f(t.url.type),1))],8,ee)])}var ie=M(G,[["render",se],["__scopeId","data-v-10456112"]]);const ae={name:"ArtistPage",meta(){return{title:this.computedName+" | PartyMap",meta:{description:{name:"description",content:"Upcoming festivals and event where "+this.computedName+" is  playing. "+this.computedDescription},keywords:{name:"keywords",content:"Festival, Festivals, Map, Events, Party, Fiesta, Music, Music Festival, Music Festivals, Best Music Festivals, All Music Festivals, Top Music Festivals, List of music festivals, list, soundcloud, bandcamp, youtube"}}}},components:{ArtistUrl:ie,Tag:j},data(){return{loading:!1,showFullDescription:!1,loadedFullRes:!1}},props:{artist:{default:null}},methods:{viewOnMap(){setTimeout(()=>{L(this.map).setZoom(1)},300),this.controlArtist=[this.artist]}},computed:{...w(N,["controlArtist"]),...P(R,["currentUser"]),...w(T,["map"]),longDescription(){return!!(this.artist&&this.artist.description&&this.artist.description.length>300)},computedDescription(){return this.artist&&this.artist.description?this.showFullDescription?this.artist.description:this.artist.description.slice(0,300):null},computedName(){return this.artist&&this.artist.name?this.artist.name:this.$route.query.name?this.$route.query.name.replace(/_/g," "):null},urls(){if(this.artist&&this.artist.urls){var i=U.cloneDeep(this.artist.urls);for(var e of i)e.url.indexOf("spotify")>-1?e.type="spotify":e.url.indexOf("apple")>-1&&e.url.indexOf("itunes")===-1?e.type="apple music":e.url.indexOf("facebook")>-1?e.type="facebook":e.url.indexOf("instagram")>-1?e.type="instagram":e.url.indexOf("twitter")>-1?e.type="twitter":e.url.indexOf("instagram")>-1?e.type="instagram":e.url.indexOf("amazon")>-1&&(e.type="amazon");return i.filter(t=>t.type==="spotify"||t.type==="bandcamp"||t.type==="youtube"||t.type==="soundcloud"||t.type==="apple music"||t.type==="facebook"||t.type==="instagram"||t.type==="twitter"||t.type==="official homepage")}else return[]}}},re={class:"artist-details flex column justify-center"},le={key:0,class:"flex column"},ne={class:"flex column details"},oe={key:0,class:"q-mt-lg q-mb-sm inter bold o-080"},ce={key:1,class:"o-080"},de={key:2,class:"q-mt-lg q-mb-sm inter bold o-080"},ue={key:3,class:"flex row wrap q-gutter-xs",style:{"max-width":"100%"}},me={key:4,class:"q-mt-lg q-mb-sm inter bold o-080"},pe={key:5,style:{"max-width":"100%"},class:"t2"},he=["innerHTML"],fe={key:6,class:"q-mt-lg q-mb-sm inter bold o-080"},_e={class:"flex column",style:{"max-width":"100%"}};function ye(i,e,t,I,l,n){const O=g("Tag"),A=g("ArtistUrl");return s(),r("div",re,[p(y,{appear:"","enter-active-class":"animated fadeIn slower"},{default:h(()=>{var v,D,u,b;return[t.artist&&!l.loading?(s(),r("div",le,[a("div",ne,[t.artist&&((v=t.artist.disambiguation)==null?void 0:v.length)>0?(s(),r("div",oe," Disambiguation: ")):o("",!0),t.artist&&((D=t.artist.disambiguation)==null?void 0:D.length)>0?(s(),r("div",ce,f(t.artist.disambiguation),1)):o("",!0),t.artist&&t.artist.tags&&t.artist.tags.length>0&&!l.loading?(s(),r("div",de,f(i.$t("artists.tags"))+": ",1)):o("",!0),t.artist&&t.artist.tags?(s(),r("div",ue,[(s(!0),r(S,null,F(t.artist.tags,(m,_)=>(s(),c(O,{class:"soft-shadow",key:_,value:m.tag,label:m.label},null,8,["value","label"]))),128))])):o("",!0),n.computedDescription&&n.computedDescription.length>0?(s(),r("div",me,f(i.$t("artists.description"))+": ",1)):o("",!0),n.computedDescription&&n.computedDescription.length>0?(s(),r("div",pe,[t.artist?(s(),r("span",{key:0,innerHTML:n.computedDescription},null,8,he)):o("",!0),n.longDescription&&!l.showFullDescription?(s(),r("span",{key:1,onClick:e[0]||(e[0]=m=>l.showFullDescription=!0),class:"link-hover underline q-ml-xs"},"...show more")):o("",!0),n.longDescription&&l.showFullDescription?(s(),r("span",{key:2,onClick:e[1]||(e[1]=m=>l.showFullDescription=!1),class:"link-hover underline"},"...show less")):o("",!0)])):o("",!0),n.urls&&n.urls.length>0?(s(),r("div",fe,f(i.$t("artists.links"))+": ",1)):o("",!0),a("div",_e,[(s(!0),r(S,null,F(n.urls,(m,_)=>(s(),c(A,{url:m,key:_},null,8,["url"]))),128))])]),a("div",null,[((b=(u=t.artist)==null?void 0:u.future_event_dates)==null?void 0:b.length)>0?(s(),c(E,{key:0,flat:"","no-caps":"",class:x(["nav-button soft-button-shadow q-mr-sm q-px-md q-mt-lg q-py-sm",i.$q.screen.gt.sm?"q-mt-lg":""]),onClick:n.viewOnMap},{default:h(()=>[k(" View on the map "),p(d,{name:"mdi-chevron-right",size:"1rem",class:x(["q-ml-md",{"q-ml-md":i.$q.screen.gt.xs}])},null,8,["class"])]),_:1},8,["class","onClick"])):o("",!0)])])):o("",!0)]}),_:1})])}var ge=M(ae,[["render",ye],["__scopeId","data-v-27deaf01"]]);const ve={name:"ArtistPage",meta(){return{title:this.computedName+" | PartyMap",meta:{description:{name:"description",content:"Upcoming festivals and event where "+this.computedName+" is  playing. "+this.computedDescription},keywords:{name:"keywords",content:"Festival, Festivals, Map, Events, Party, Fiesta, Music, Music Festival, Music Festivals, Best Music Festivals, All Music Festivals, Top Music Festivals, List of music festivals, list, soundcloud, bandcamp, youtube"}}}},components:{EventDateCard:Y,ArtistDetails:ge,InnerLoading:Q,CustomQScroll:V},data(){return{artist:null,loading:!1,showFullDescription:!1,loadedFullRes:!1}},props:{id:{default:null}},methods:{viewOnMap(){setTimeout(()=>{L(this.map).setZoom(1)},300),this.controlArtist=[this.artist]},refreshArtist(){this.currentUser?(this.loading=!0,Z(this.artist.id).then(i=>{this.loading=!1,this.artist=i.data},()=>{this.loading=!1})):this.$router.push({path:"/login",query:{from:this.$route.path}})},onScrollMainContent(i){this.scrollPercentage=i.verticalPercentage,i.verticalPosition>8?(this.overlayOpacity=1,this.menubarOpacity=1):(this.overlayOpacity=0,this.menubarOpacity=0)}},mounted(){this.menubarOpacity=0,this.loading=!0,H(this.id).then(i=>{this.loading=!1,this.artist=i.data;var e="?name="+i.data.name.replace(/ /g,"_");window.location.pathname.indexOf(e)===-1&&this.$router.resolve({path:this.$route.path,query:{name:i.data.name.replace(/ /g,"_")}})})},computed:{...w(J,["menubarOpacity"]),...w(N,["controlArtist"]),...P(R,["currentUser"]),...w(T,["map"]),longDescription(){return!!(this.artist&&this.artist.description&&this.artist.description.length>300)},computedDescription(){return this.artist&&this.artist.description?this.showFullDescription?this.artist.description:this.artist.description.slice(0,300):null},computedName(){return this.artist&&this.artist.name?this.artist.name:this.$route.query.name?this.$route.query.name.replace(/_/g," "):null},computedSmImageSrc(){var i,e;return this.$route.query.thumb_xs_url?this.$route.query.thumb_xs_url:(e=(i=this.artist)==null?void 0:i.media_items)!=null&&e[0]?this.artist.media_items[0].thumb_xs_url:""},computedImageSrc(){var i,e;return(e=(i=this.artist)==null?void 0:i.media_items)!=null&&e[0]?this.artist.media_items[0].thumb_url:""},urls(){if(this.artist&&this.artist.urls){var i=U.cloneDeep(this.artist.urls);for(var e of i)e.url.indexOf("spotify")>-1?e.type="spotify":e.url.indexOf("apple")>-1&&e.url.indexOf("itunes")===-1?e.type="apple music":e.url.indexOf("facebook")>-1?e.type="facebook":e.url.indexOf("instagram")>-1?e.type="instagram":e.url.indexOf("twitter")>-1?e.type="twitter":e.url.indexOf("instagram")>-1?e.type="instagram":e.url.indexOf("amazon")>-1&&(e.type="amazon");return i.filter(t=>t.type==="spotify"||t.type==="bandcamp"||t.type==="youtube"||t.type==="soundcloud"||t.type==="apple music"||t.type==="facebook"||t.type==="instagram"||t.type==="twitter"||t.type==="official homepage")}else return[]}}},q=i=>(W("data-v-b36667b0"),i=i(),X(),i),be={class:"artist-page jj flex column justify-center"},ke={key:0,class:"mobile-image-container"},we={class:"image-container-background"},xe=["src"],qe=["src"],De=q(()=>a("div",{class:"image-container-overlay"},null,-1)),Se={class:"flex-column mobile-title q-pa-md"},Fe={class:"text-h4 inter bolder"},Oe={key:1,class:"artist-header flex row justify-center no-wrap"},Ae=["src"],Me={class:"header-content flex col col-xs-12 col-md-10 col-lg-10 col-xl-8"},Ie={class:"flex row no-wrap grow items-start justify-between q-pa-lg"},Ce={class:"flex column"},ze={class:"text-h2 inter bolder",style:{color:"white","z-index":"2"}},Le={key:0,class:"image-container"},Ne={class:"image-container-background"},Pe=["src"],Re=["src"],Te={class:"artist-content flex row justify-center no-wrap",style:{width:"100%",position:"relative"}},Ue={class:"main-content q-mb-lg flex column col-xs-12 col-md-10 col-lg-10 col-xl-8"},Be={key:0,class:"flex column",style:{"max-width":"100%"}},je=q(()=>a("div",{class:"q-mb-md inter bold t2"},"Upcoming events:",-1)),Ee={key:0,class:"t3"},Qe={key:1},Ve={key:1,class:"flex column",style:{"max-width":"100%"}},Ze={class:"q-mt-lg q-mb-md inter bold t2"},He={class:"t3"},Je=q(()=>a("a",{href:"https://musicbrainz.org/",class:"link-hover underline",target:"_blank"},"MusicBrainz",-1)),Ke=q(()=>a("a",{href:"https://last.fm/",class:"link-hover underline",target:"_blank"},"Last.fm",-1)),We=q(()=>a("a",{href:"https://spotify.com/",class:"link-hover underline",target:"_blank"},"Spotify",-1));function Xe(i,e,t,I,l,n){const O=g("InnerLoading"),A=g("ArtistDetails"),v=g("EventDateCard"),D=g("CustomQScroll");return s(),r("div",be,[p(D,{vertical:"",ref:"scrollArea",style:{height:"100%",width:"100%"},onScroll:n.onScrollMainContent,"thumb-style":i.$q.screen.gt.xs?{bottom:"0px",height:"8px",marginLeft:"16px",borderRadius:"0px"}:{bottom:"0px",height:"0px",borderRadius:"0px",width:"4px"}},{default:h(()=>[i.$q.screen.lt.md?(s(),r("div",ke,[a("div",we,[a("img",{src:n.computedSmImageSrc,style:{"z-index":"2"}},null,8,xe),C(a("img",{style:{"z-index":"3"},src:n.computedImageSrc,onLoad:e[0]||(e[0]=u=>l.loadedFullRes=!0)},null,40,qe),[[z,l.loadedFullRes]]),De]),a("div",Se,[a("div",Fe,[a("b",null,f(n.computedName),1)])])])):o("",!0),i.$q.screen.gt.sm?(s(),r("div",Oe,[a("div",{class:"artist-background",style:K(i.computedBackround)},[p(y,{appear:"","enter-active-class":"animated fadeIn slow","leave-active-class":"animated fadeOut"},{default:h(()=>[a("img",{src:n.computedSmImageSrc,class:"item"},null,8,Ae)]),_:1})],4),a("div",Me,[a("div",Ie,[a("div",Ce,[a("div",ze,f(n.computedName),1)])]),l.artist&&n.computedImageSrc?(s(),r("div",Le,[a("div",Ne,[p(y,{appear:"","enter-active-class":"animated fadeIn slower"},{default:h(()=>[a("img",{src:n.computedSmImageSrc,style:{"z-index":"2"}},null,8,Pe)]),_:1}),p(y,{appear:"","enter-active-class":"animated fadeIn slower"},{default:h(()=>[C(a("img",{style:{"z-index":"3"},src:n.computedImageSrc,onLoad:e[1]||(e[1]=u=>l.loadedFullRes=!0)},null,40,Re),[[z,l.loadedFullRes]])]),_:1})])])):o("",!0)])])):o("",!0),l.loading?(s(),c(O,{key:2,solid:!1,style:{"padding-top":"256px"}})):o("",!0),a("div",Te,[a("div",Ue,[p(A,{class:x(i.$q.screen.gt.sm?"q-ml-lg q-mb-lg":"q-mb-sm q-px-md"),onRefreshArtist:e[2]||(e[2]=u=>n.refreshArtist()),artist:l.artist},null,8,["class","artist"]),p(y,{appear:"","enter-active-class":"animated fadeIn slower"},{default:h(()=>{var u,b;return[l.artist&&!l.loading?(s(),r("div",{key:0,class:x(["flex column events",i.$q.screen.gt.sm?" q-px-lg":" q-mt-md q-px-md"])},[l.artist?(s(),r("div",Be,[je,!l.artist.future_event_dates||((b=(u=l.artist)==null?void 0:u.future_event_dates)==null?void 0:b.length)===0&&!l.loading?(s(),r("div",Ee," No upcoming events for this artist. ")):(s(),r("div",Qe)),(s(!0),r(S,null,F(l.artist.future_event_dates,(m,_)=>(s(),c(v,{style:{"max-width":"600px"},key:_,event:m,class:"q-mb-md ed-card"},null,8,["event"]))),128))])):o("",!0),l.artist&&l.artist.past_event_dates&&l.artist.past_event_dates.length>0?(s(),r("div",Ve,[a("div",Ze,f(i.$t("artists.past_events"))+": ",1),(s(!0),r(S,null,F(l.artist.past_event_dates,(m,_)=>(s(),c(v,{key:_,event:m,class:"q-mb-md ed-card"},null,8,["event"]))),128))])):o("",!0)],2)):o("",!0)]}),_:1}),p(y,{appear:"","enter-active-class":"animated fadeIn slower"},{default:h(()=>[l.artist?(s(),r("div",{key:0,class:x(["q-pb-lg q-mt-xl footer",i.$q.screen.gt.sm?"q-px-lg":""])},[a("div",He,[k(" Artist info courtesey of "),Je,k(", "),Ke,k(" and "),We,k(". "),a("span",{class:"link-hover",onClick:e[3]||(e[3]=(...u)=>n.refreshArtist&&n.refreshArtist(...u))}," [Fetch latest info]")])],2)):o("",!0)]),_:1})])])]),_:1},8,["onScroll","thumb-style"])])}var $e=M(ve,[["render",Xe],["__scopeId","data-v-b36667b0"]]);export{$e as default};
