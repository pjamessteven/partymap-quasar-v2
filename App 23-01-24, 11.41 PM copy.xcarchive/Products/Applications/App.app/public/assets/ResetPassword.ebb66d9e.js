import{_ as m,aE as w,ao as h,K as f,M as r,Z as i,au as c,a0 as _,J as g,aN as l,L as b,V as d,aO as V,z as n,aI as p,U as u,Q as y}from"./index.458653eb.js";const v={name:"ResetPassword",data(){return{password:"",password_confirm:""}},methods:{...w(h,["resetPassword"]),async reset(){const s=this.$q.dialog({title:this.$t("edit_event_date.submitting"),color:"primary",progress:!0,cancel:!1,persistent:!0,ok:!1});try{await this.resetPassword(this.$route.params.token,this.password,this.password_confirm),s.hide(),this.$q.dialog({title:this.$t("auth.success"),message:"Your password has been reset and you are now logged in.",color:"primary",cancel:!1}).onDismiss(()=>{this.$router.push({name:"Explore"})})}catch{s.hide()}},hideDialog(){this.$router.push({name:"Explore"})}},computed:{validation(){return this.passwordValidation===""&&this.passwordConfirmValidation===""},passwordValidation(){return this.password.length>72?this.$t("validation.password_too_long"):this.password.length<8?this.$t("validation.password_too_short"):""},passwordConfirmValidation(){return this.password!==this.password_confirm?this.$t("validation.password_must_match"):""}}},C={class:"text-large"};function k(s,e,q,$,o,a){return g(),f("div",{class:"dialog-page",onClick:e[4]||(e[4]=_((...t)=>a.hideDialog&&a.hideDialog(...t),["self"]))},[r(c,{bordered:s.$q.screen.gt.sm,class:"auth-card"},{default:i(()=>[r(l,{class:"row items-center"},{default:i(()=>[b("b",C,d(s.$t("auth.reset_password")),1),r(V)]),_:1}),r(l,{class:"form q-px-lg"},{default:i(()=>[r(n,{outlined:"",class:"q-mt-md","hide-bottom-space":"",label:s.$t("manage_account.new_password"),type:"password",modelValue:o.password,"onUpdate:modelValue":e[0]||(e[0]=t=>o.password=t),onKeyup:e[1]||(e[1]=p(t=>s.prompt=!1,["enter"])),"bottom-slots":"",error:a.passwordValidation!=""&&o.password.length>0},{error:i(()=>[u(d(a.passwordValidation),1)]),_:1},8,["label","modelValue","error"]),r(n,{outlined:"",class:"q-mt-md","hide-bottom-space":"",label:s.$t("auth.password_confirm"),type:"password",modelValue:o.password_confirm,"onUpdate:modelValue":e[2]||(e[2]=t=>o.password_confirm=t),onKeyup:e[3]||(e[3]=p(t=>s.prompt=!1,["enter"])),"bottom-slots":"",error:a.passwordConfirmValidation!=""&&o.password_confirm.length>0},{error:i(()=>[u(d(a.passwordConfirmValidation),1)]),_:1},8,["label","modelValue","error"])]),_:1}),r(l,{class:"flex justify-center q-mb-md"},{default:i(()=>[r(y,{disable:!a.validation,label:s.$t("auth.reset_password"),color:"primary",onClick:a.reset,"no-caps":""},null,8,["disable","label","onClick"])]),_:1})]),_:1},8,["bordered"])])}var Q=m(v,[["render",k],["__scopeId","data-v-6e29fb99"]]);export{Q as default};
