import{H as x,bE as q,bF as N,am as C,ao as I,ab as E,_ as $,I as k,J as o,$ as r,Z as t,M as a,U as c,aN as Q,at as P,K as w,R as A,a3 as D,a1 as W,L as u,a2 as b,V as g,N as f,aW as B,X as m,Q as v,O as L,aJ as V,bG as z,au as R,ah as T,a5 as U,a6 as j}from"./index.458653eb.js";const M={components:{},props:{id:{default:null,loading:!1}},data(){return{events:null,page:1,perPage:10,hasNext:!1,loading:!1}},mounted(){this.loading=!0,x({hidden:!0,page:this.page,sort:"created_at",desc:!0,per_page:this.perPage}).then(e=>{this.events=e.data.items,this.loading=!1,this.hasNext=e.data.has_next})},methods:{deleteEvent(e){this.$q.dialog({title:"Delete event",message:"Are you sure?",color:"primary",persistent:!1}).onOk(()=>{const n=this.$q.dialog({title:"Doo do doo..",color:"primary",progress:!0,cancel:!1,persistent:!0,ok:!1});q(e).then(()=>{n.hide();var i=this.events.findIndex(d=>d.id===e);this.events.splice(i,1)},()=>{n.hide()})})},approveEvent(e){this.$q.dialog({title:"Approve event",message:"Are you sure?",color:"primary",persistent:!1}).onOk(()=>{const n=this.$q.dialog({title:"Doo do doo..",color:"primary",progress:!0,cancel:!1,persistent:!0,ok:!1});N(e,{hidden:!1}).then(()=>{n.hide();var i=this.events.findIndex(d=>d.id===e);this.events.splice(i,1)},()=>{n.hide()})})},loadMore(){this.page+=1,this.loading=!0,x({hidden:!0,page:this.page,sort:"created_at",desc:!0,per_page:10}).then(e=>{this.loading=!1,this.events=[...this.events,...e.data.items],this.hasNext=e.data.has_next})}},watch:{},computed:{...C(I,["currentUser"])},created(){this.timeAgo=E.timeAgo}},O={class:"flex row grow justify-between no-wrap items-center"},F={class:"flex column no-wrap"},J={class:"controls"},G={class:"flex grow justify-center"},H={key:1,class:"t3 flex grow justify-center"};function K(e,n,i,d,l,p){const _=k("router-link");return o(),r(R,null,{default:t(()=>[a(Q,{class:"text-h6"},{default:t(()=>[c(" Pending events: ")]),_:1}),a(Q,{class:""},{default:t(()=>[l.events&&l.events.length>0?(o(),r(P,{key:0},{default:t(()=>[(o(!0),w(L,null,A(l.events,(s,S)=>(o(),r(D,{key:S},{default:t(()=>[a(W,null,{default:t(()=>[u("div",O,[u("div",F,[a(b,{class:"flex row items-center"},{default:t(()=>[a(_,{class:"link-hover",to:{name:"EventPage",params:{id:s.id}}},{default:t(()=>[c(g(s.name),1)]),_:2},1032,["to"]),s.host?(o(),r(f,{key:0,class:"q-ml-sm",name:"mdi-check-decagram"},{default:t(()=>[a(B,{"content-class":e.$q.dark.isActive?"bg-black text-white":"bg-white text-black",offset:[10,10],"content-style":"font-size: 16px"},{default:t(()=>[c(g(e.$t("event.official_page")),1)]),_:1},8,["content-class"])]),_:1})):m("",!0)]),_:2},1024),a(b,{caption:""},{default:t(()=>{var h;return[c(" created "+g(e.timeAgo(s.created_at))+" by ",1),s.creator?(o(),r(_,{key:0,class:"link-hover",to:{name:"UserPage",params:{username:(h=s.creator)==null?void 0:h.username}}},{default:t(()=>{var y;return[c(g((y=s.creator)==null?void 0:y.username),1)]}),_:2},1032,["to"])):m("",!0)]}),_:2},1024)]),u("div",J,[a(v,{color:"red",round:"",size:"sm",flat:"",onClick:h=>p.deleteEvent(s.id)},{default:t(()=>[a(f,{name:"las la-trash"})]),_:2},1032,["onClick"]),a(v,{color:"green",round:"",size:"sm",flat:"",onClick:h=>p.approveEvent(s.id)},{default:t(()=>[a(f,{name:"las la-check"})]),_:2},1032,["onClick"])])])]),_:2},1024)]),_:2},1024))),128)),u("div",G,[l.hasNext?(o(),r(v,{key:0,label:e.$t("activity.load_more"),icon:"mdi-chevron-down",onClick:p.loadMore,flat:""},null,8,["label","onClick"])):m("",!0)])]),_:1})):(o(),w("div",H,"No pending events :("))]),_:1}),a(z,{showing:l.loading},{default:t(()=>[a(V,{color:e.$q.dark.isActive?"white":"black",size:"2em"},null,8,["color"])]),_:1},8,["showing"])]),_:1})}var X=$(M,[["render",K],["__scopeId","data-v-6c7b0662"]]);const Z={components:{WorkQueueComponent:X,SolidPage:T},props:{id:{default:null,loading:!1}},data(){return{user:null}},methods:{},watch:{},computed:{...C(I,["currentUser"])}},Y=e=>(U("data-v-6432ca2d"),e=e(),j(),e),ee=Y(()=>u("div",null,"Work Queue",-1));function te(e,n,i,d,l,p){const _=k("WorkQueueComponent"),s=k("SolidPage");return o(),r(s,{loading:e.loading},{title:t(()=>[ee]),default:t(()=>[a(_,{class:"q-mt-lg"})]),_:1},8,["loading"])}var se=$(Z,[["render",te],["__scopeId","data-v-6432ca2d"]]);export{se as default};
