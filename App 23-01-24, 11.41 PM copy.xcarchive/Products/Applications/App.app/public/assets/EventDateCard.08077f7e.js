import{bc as S,as as U,an as z,ab as d,bd as E,_ as N,I as x,J as a,$ as h,Z as _,L as n,M as r,Y as W,ae as q,aq as w,a4 as T,V as i,N as v,aW as C,U as g,X as u,be as X,K as l,bf as p,O as H,R as L,T as A}from"./index.458653eb.js";const O={components:{Tag:S},props:{event:Object,shortDate:{default:!1,type:Boolean}},data(){return{loadedImage:!1}},methods:{mouseEnter(){this.$q.screen.gt.xs&&(this.eventDateHoverMarker={lat:this.event.location.lat,lng:this.event.location.lng,name:this.event.name})},mouseLeave(){this.eventDateHoverMarker=null},getBottomBgImgStyle(){return this.$q.dark.isActive?`background-image:  url("${this.imgThumbXsUrl}");
        background-size: cover;
        display: inline-block;
        background-position: center;
        `:`background-image:  url("${this.imgThumbXsUrl}");
          background-size: cover;
          display: inline-block;
          background-position: center;
          `}},computed:{...U(z,["eventDateHoverMarker","focusMarker"]),imgThumbUrl(){var t,s,e,c;return(c=(e=(s=(t=this.event)==null?void 0:t.event)==null?void 0:s.cover_items)==null?void 0:e[0])==null?void 0:c.thumb_url},imgThumbXsUrl(){var t,s,e,c;return(c=(e=(s=(t=this.event)==null?void 0:t.event)==null?void 0:s.cover_items)==null?void 0:e[0])==null?void 0:c.thumb_xxs_url}},created(){this.relativeHumanTime=d.relativeHumanTime,this.localDateWithWeekday=d.localDateWithWeekday,this.monthYear=d.monthYear,this.timeZoneAbbreviention=d.timeZoneAbbreviention,this.simplifiedRecurringPattern=d.simplifiedRecurringPattern,this.localDayOfMonth=E,this.localDay=d.localDay}},R={class:"ed-card-content flex row no-wrap q-pa-md"},V={class:"image-container flex justify-center items-center shadow-2xl"},j=["src"],P=["src"],Q={class:"flex column grow q-pl-md"},Y={class:"ed-card-header flex row justify-between items-start no-wrap ellipsis"},Z={class:"ellipsis"},F={class:"flex column"},J={key:1},K={key:2},G={class:"flex row items-center no-wrap ellipsis"},$={class:"flex row no-wrap ellipsis"},ee={key:0},te={key:1},ae={key:2,class:"flex row items-center q-ml-xs o-070 no-wrap ellipsis"},ne={key:0,class:"ellipsis"},se={key:0},le={key:1,class:"ellipsis"},ie={key:2,class:"o-050 ellipsis"},oe={key:0,class:"description flex grow ellipsis q-my-sm items-center",style:{"max-width":"100%"}},re={key:0,class:"tag-container flex row no-wrap ellipsis"};function ce(t,s,e,c,f,o){const D=x("Tag"),I=x("router-link");return a(),h(A,{appear:"","enter-active-class":"animated fadeIn"},{default:_(()=>[n("div",{class:"ed-card",onMouseenter:s[1]||(s[1]=(...m)=>o.mouseEnter&&o.mouseEnter(...m)),onMouseleave:s[2]||(s[2]=(...m)=>o.mouseLeave&&o.mouseLeave(...m))},[r(I,{style:{"text-decoration":"none",color:"inherit"},to:{name:"EventPage",params:{id:e.event.event_id,eventDateId:e.event.id},query:{name:e.event.name.replace(/ /g,"_"),thumbXsUrl:o.imgThumbXsUrl,location:JSON.stringify({lat:e.event.location.lat,lng:e.event.location.lng})}}},{default:_(()=>{var m,b,y,k;return[n("div",{class:"ed-card-bg",style:W(o.getBottomBgImgStyle())},null,4),n("div",R,[n("div",V,[q(n("img",{src:o.imgThumbXsUrl,class:"image not-loaded"},null,8,j),[[w,!f.loadedImage]]),q(n("img",{src:o.imgThumbUrl,class:"image",onLoad:s[0]||(s[0]=()=>f.loadedImage=!0)},null,40,P),[[w,f.loadedImage]])]),n("div",Q,[n("div",Y,[n("div",{class:T(["flex row items-baseline no-wrap inter bold q-mr-sm ellipsis",{"text-large q-mb-sm":t.$q.screen.gt.sm,"q-mb-xs":t.$q.screen.lt.md}])},[n("span",Z,i(e.event.name),1),e.event.event.host?(a(),h(v,{key:0,class:"q-ml-sm o-080",name:"mdi-check-decagram"},{default:_(()=>[r(C,{"content-class":t.$q.dark.isActive?"bg-black text-white":"bg-white text-black",offset:[10,10],"content-style":"font-size: 16px"},{default:_(()=>[g(i(t.$t("event.official_page")),1)]),_:1},8,["content-class"])]),_:1})):u("",!0)],2)]),n("div",{class:T(["flex column grow justify-center card-bottom-text o-070",{"q-mt-":t.$q.screen.gt.sm}]),style:{"font-weight":"400"}},[n("div",F,[n("span",null,[r(v,{name:"las la-clock",class:"q-mr-sm"}),e.event.cancelled?(a(),h(X,{key:0,class:"q-my-xs",color:"red",label:t.$t("event_date_inline.cancelled")},null,8,["label"])):e.event.date_confirmed?(a(),l("span",J,i(t.relativeHumanTime(e.event.start_naive,e.event.end_naive,e.event.tz)),1)):(a(),l("span",K,"Date TBC"))]),n("div",G,[r(v,{name:"las la-calendar",class:"q-mr-sm"}),n("div",$,[e.event.date_confirmed?(a(),l("span",ee,i(t.localDateWithWeekday(e.event.start_naive,e.event.tz)),1)):(a(),l("span",te,i(t.monthYear(e.event.start_naive,e.event.tz)),1)),e.event.event.rrule&&e.event.event.rrule.separation_count>0?(a(),l("span",ae,[r(v,{class:"q-ml-xs q-mr-sm",name:"las la-redo-alt"}),g(" "+i(t.simplifiedRecurringPattern(e.event.event.rrule)),1)])):u("",!0)])]),n("div",null,[e.event.location&&e.event.location.locality?(a(),l("span",ne,[r(v,{name:"las la-map-marker",class:"q-mr-sm"}),g(i(e.event.location.locality.long_name),1),(b=(m=e.event.location.locality)==null?void 0:m.region)!=null&&b.long_name?(a(),l("span",se,",")):u("",!0),g(" "+i((k=(y=e.event.location.locality)==null?void 0:y.region)==null?void 0:k.long_name),1)])):(a(),l("span",le,[r(v,{name:"las la-map-marker",class:"q-mr-sm"}),g(i(e.event.location.name),1)])),e.event.distance!=null?(a(),l("span",ie,"\xA0("+i(Intl.NumberFormat().format(parseInt(Number(e.event.distance)/1e3)))+"km)",1)):u("",!0)])])],2),t.$q.screen.gt.sm?(a(),l("div",oe,i(e.event.event.description),1)):u("",!0),r(p,{vertical:"",style:{"min-height":"39px","margin-bottom":"-8px"},class:"q-mt-sm","thumb-style":{bottom:"-4px",height:"8px",borderRadius:"0px"}},{default:_(()=>[e.event.event.event_tags&&e.event.event.event_tags.length>0?(a(),l("div",re,[(a(!0),l(H,null,L(e.event.event.event_tags,(B,M)=>(a(),h(D,{class:"q-mr-xs",key:M,value:B.tag},null,8,["value"]))),128))])):u("",!0)]),_:1})])])]}),_:1},8,["to"])],32)]),_:1})}var de=N(O,[["render",ce],["__scopeId","data-v-880fc228"]]);export{de as E};
